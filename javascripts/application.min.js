var MMCQ,PriorityQueue;!function(e){e.fn.autogrow=function(t){return this.filter("textarea").each(function(){function t(t){var e=o.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(t){return function(t,e){for(var o=0,n="";o<e;o++)n+=t;return n}("&nbsp;",t.length-1)+" "});t&&t.data&&"keydown"===t.data.event&&13===t.keyCode&&(e+="<br />"),s.css("width",n.width()),s.html(e+(0===r?"...":"")),n.height(Math.max(s.height()+r,i))}var o=this,n=e(o),i=n.height(),r=!n.hasClass("autogrow-short")&&parseInt(n.css("lineHeight"))||0,s=e("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:n.width(),fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),lineHeight:n.css("lineHeight"),resize:"none","word-wrap":"break-word"}).appendTo(document.body);n.change(t).keyup(t).keydown({event:"keydown"},t),e(window).resize(t),t()})}}(jQuery),PriorityQueue=function(){function t(t){this.comparator=t,this.contents=[],this.sorted=!1}return t.prototype.sort=function(){return this.contents.sort(this.comparator),this.sotred=!0},t.prototype.push=function(t){return this.contents.push(t),this.sorted=!1},t.prototype.peek=function(t){return null==t&&(t=this.contents.length-1),this.sorted||this.sort(),this.contents[t]},t.prototype.pop=function(){return this.sorted||this.sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(t){return this.contents.map(t)},t}(),MMCQ=function(){var u,r,d,A,l,h;function m(){this.maxIterations=1e3,this.fractByPopulations=.75}function t(t,e,o,n,i,r,s){this.r1=t,this.r2=e,this.g1=o,this.g2=n,this.b1=i,this.b2=r,this.histo=s}function e(){this.cboxes=new PriorityQueue(function(t,e){t=t.count()*t.volume(),e=e.count()*e.volume();return e<t?1:t<e?-1:0})}return m.rshift=8-(m.sigbits=5),A=function(t,e,o){return(t<<2*m.sigbits)+(e<<m.sigbits)+o},t.prototype.volume=function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},t.prototype.count=function(t){var e,o,n,i,r,s,a,c,d,l,h;if(!this._count_set||t){for(i=0,r=s=this.r1,d=this.r2;s<=d;r=s+=1)for(o=a=this.g1,l=this.g2;a<=l;o=a+=1)for(e=c=this.b1,h=this.b2;c<=h;e=c+=1)n=A(r,o,e),i+=this.histo[n]||0;this._count_set=!0,this._count=i}return this._count},t.prototype.copy=function(){return new t(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},t.prototype.average=function(t){var e,o,n,i,r,s,a,c,d,l,h,u,f,p,g;if(!this._average||t){for(s=1<<8-m.sigbits,o=i=c=d=0,a=l=this.r1,f=this.r2;l<=f;a=l+=1)for(n=h=this.g1,p=this.g2;h<=p;n=h+=1)for(e=u=this.b1,g=this.b2;u<=g;e=u+=1)r=A(a,n,e),d+=r=this.histo[r]||0,c+=r*(a+.5)*s,i+=r*(n+.5)*s,o+=r*(e+.5)*s;this._average=d?[~~(c/d),~~(i/d),~~(o/d)]:[~~(s*(this.r1+this.r2+1)/2),~~(s*(this.g1+this.g2+1)/2),~~(s*(this.b1+this.b2+1)/2)]}return this._average},t.prototype.contains=function(t){var e=t[0]>>m.rshift,o=t[1]>>m.rshift,t=t[2]>>m.rshift;return this.r1<=e&&e<=this.r2&&this.g1<=o&&o<=this.g2&&this.b1<=t&&t<=this.b2},u=t,e.prototype.push=function(t){return this.cboxes.push({cbox:t,color:t.average()})},e.prototype.palette=function(){return this.cboxes.map(function(t){return t.color})},e.prototype.size=function(){return this.cboxes.size()},e.prototype.map=function(t){var e,o=e=0,n=this.cboxes.size();if(e<n)return this.cboxes.peek(o).cbox.contains(t)?this.cboxes.peek(o).color:this.nearest(t)},e.prototype.cboxes=function(){return this.cboxes},e.prototype.nearest=function(t){for(var e,o,n,i=function(t){return t*t},r=1e9,s=n=0,a=this.cboxes.size();n<a;s=n+=1)(e=Math.sqrt(i(t[0]-this.cboxes.peek(s).color[0])+i(t[1]-this.cboxes.peek(s).color[1])+i(t[2]-this.cboxes.peek(s).color[2])))<r&&(r=e,o=this.cboxes.peek(s).color);return o},r=e,l=function(t){for(var e,o,n,i=new Array(1<<3*m.sigbits),r=0,s=t.length;r<s;r++)n=(o=t[r])[0]>>m.rshift,e=o[1]>>m.rshift,o=o[2]>>m.rshift,i[o=A(n,e,o)]=(i[o]||0)+1;return i},d=function(t,e){for(var o,n,i=1e6,r=0,s=1e6,a=0,c=1e6,d=0,l=0,h=t.length;l<h;l++)(n=(o=t[l])[0]>>m.rshift)<i?i=n:r<n&&(r=n),(n=o[1]>>m.rshift)<s?s=n:a<n&&(a=n),(o=o[2]>>m.rshift)<c?c=o:d<o&&(d=o);return new u(i,r,s,a,c,d,e)},h=function(t,u){var e,o,n,i,r,f,s,p,a,c,d,g,l,h,m,b,w,v,y,x,C,k,j,_,M,z,P,F,H,T;if(u.count()){if(1===u.count())return[u.copy()];if(c=u.r2-u.r1+1,r=u.g2-u.g1+1,o=u.b2-u.b1+1,s=Math.max(c,r,o),g=0,p=[],f=[],s===c)for(a=l=u.r1,k=u.r2;l<=k;a=l+=1){for(d=0,i=h=u.g1,P=u.g2;h<=P;i=h+=1)for(e=m=u.b1,F=u.b2;m<=F;e=m+=1)d+=t[A(a,i,e)]||0;g+=d,p[a]=g}else if(s===r)for(i=b=u.g1,H=u.g2;b<=H;i=b+=1){for(d=0,a=w=u.r1,T=u.r2;w<=T;a=w+=1)for(e=v=u.b1,j=u.b2;v<=j;e=v+=1)d+=t[A(a,i,e)]||0;g+=d,p[i]=g}else for(e=y=u.b1,_=u.b2;y<=_;e=y+=1){for(d=0,a=x=u.r1,M=u.r2;x<=M;a=x+=1)for(i=C=u.g1,z=u.g2;C<=z;i=C+=1)d+=t[A(a,i,e)]||0;g+=d,p[e]=g}return p.forEach(function(t,e){return f[e]=g-t}),n=function(t){for(var e,o,n,i,r,s,a,c=t+"1",d=t+"2",l=a=u[c],h=u[d];a<=h;l=a+=1)if(p[l]>g/2){for(e=u.copy(),o=u.copy(),i=(r=l-u[c])<=(s=u[d]-l)?Math.min(u[d]-1,~~(l+s/2)):Math.max(u[c],~~(l-1-r/2));!p[i];)i++;for(n=f[i];!n&&p[i-1];)n=f[--i];return e[d]=i,o[c]=e[d]+1,[e,o]}},s===c?n("r"):s===r?n("g"):s===o?n("b"):void 0}},m.prototype.quantize=function(t,e){var s,o,a,n,i,c=this;if(!t.length||e<2||256<e)return console.log("invalid arguments"),!1;for(a=l(t),s=d(t,a),(n=new PriorityQueue(function(t,e){t=t.count(),e=e.count();return e<t?1:t<e?-1:0})).push(s),(t=function(t,e){for(var o,n,i=1,r=0;r<c.maxIterations;)if((s=t.pop()).count()){if(o=(n=h(a,s))[0],n=n[1],!o)return void console.log("cbox1 not defined; shouldn't happen");if(t.push(o),n&&(t.push(n),i++),e<=i)return;if(r++>c.maxIterations)return void console.log("infinite loop; perhaps too few pixels")}else t.push(s),r++})(n,this.fractByPopulations*e),i=new PriorityQueue(function(t,e){t=t.count()*t.volume(),e=e.count()*e.volume();return e<t?1:t<e?-1:0});n.size();)i.push(n.pop());for(t(i,e-i.size()),o=new r;i.size();)o.push(i.pop());return o},m}.call(this),function(){function g(){}window.ColorExtract=(g.getColorMap=function(t,e,o,n,i,r){var s,a,c,d,l,h,u,f,p,g;for(null==r&&(r=8),c=t.getContext("2d").getImageData(e,o,n,i).data,d=[],p=(h=u=o)+i;u<p;h=u+=1)for(a=h*n*4,g=(l=f=e)+n;f<g;l=f+=1)d.push([c[s=a+4*l],c[1+s],c[2+s]]);return(new MMCQ).quantize(d,r)},g.colorDist=function(t,e){var o=function(t){return t*t};return o(t[0]-e[0])+o(t[1]-e[1])+o(t[2]-e[2])},g.extract=function(t,e,o){var n,i,r,s,a,c,d,l,h,u,f,p;for(e.width=25,e.height=25,e.getContext("2d").drawImage(t,0,0,e.width,e.height),(i=g.getColorMap(e,0,0,e.width,e.height,4).cboxes.map(function(t){return{count:t.cbox.count(),rgb:t.color}})).sort(function(t,e){return e.count-t.count}),n=i[0].rgb,(d=g.getColorMap(e,0,0,t.width,t.height,10).cboxes.map(function(t){return{count:t.cbox.count(),rgb:t.color}})).sort(function(t,e){return e.count-t.count}),h=l=0,f=d.length;h<f;h++)r=d[h],l<(s=g.colorDist(n,r.rgb))&&(l=s,a=r.rgb);for(u=l=0,p=d.length;u<p;u++)r=d[u],l<(s=g.colorDist(n,r.rgb))&&r.rgb!==a&&(l=s,c=r.rgb);return o({bgColor:(o=function(t){return"rgb("+t[0]+", "+t[1]+", "+t[2]+")"})(n),fgColor:o(a),fgColor2:o(c)})},g)}.call(this),function(a){var o="placeholder"in document.createElement("input"),c=["-moz-box-sizing","-webkit-box-sizing","box-sizing","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","border-top-width","border-right-width","border-bottom-width","border-left-width","line-height","font-size","font-family","width","height","top","left","right","bottom"];a.fn.placeholder=function(t){var e=this;return t=t||{},o&&!t.force||window.setTimeout(function(){e.each(function(){var t=this.tagName.toLowerCase();"input"!==t&&"textarea"!==t||function(t){var e,o,n,i,r=a(t);try{if(!r[0].getAttributeNode("placeholder"))return;if(!(n=r[0].getAttribute("placeholder"))||!n.length)return;r[0].setAttribute("placeholder",""),r.data("placeholder",n)}catch(t){return}for(o={},e=0;e<c.length;e++)o[c[e]]=r.css(c[e]);function s(){i.toggle(!a.trim(r.val()).length)}t=parseInt(r.css("z-index"),10),!isNaN(t)&&t||(t=1),(i=a("<span>").addClass("placeholder").html(n)).css(o),i.css({cursor:r.css("cursor")||"text",display:"block",position:"absolute",overflow:"hidden","z-index":t+1,background:"none","border-top-style":"solid","border-right-style":"solid","border-bottom-style":"solid","border-left-style":"solid","border-top-color":"transparent","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"transparent"}),i.insertBefore(r),n=r.offset().top-i.offset().top,t=parseInt(i.css("margin-top")),isNaN(t)&&(t=0),i.css("margin-top",t+n),i.on("mousedown",function(){r.is(":enabled")&&window.setTimeout(function(){r.trigger("focus")},0)}),r.on("focus.placeholder",function(){i.hide()}),r.on("blur.placeholder",function(){s()}),r[0].onpropertychange=function(){"value"===event.propertyName&&s()},r.trigger("blur.placeholder")}(this)})},0),this}}(jQuery),function(o){function t(t){this.$el=o(t),this.init()}t.prototype={init:function(){o(".form_field").each(o.proxy(function(t,e){0<o(e).find('input[type="text"]').length&&(o(e).find('input[type="text"]').attr("placeholder",o(e).find("label").text()),o(e).find("label").hide(),o.fn.placeholder&&o(e).find('input[type="text"]').placeholder()),0<o(e).find("textarea").length&&(o(e).find("textarea").attr("placeholder",o(e).find("label").text()),o(e).find("label").hide(),o.fn.placeholder&&o(e).find("textarea").placeholder())},this))}},o.fn.edicyFormPlaceholders=function(){return this.each(function(){o(this).data("edicyFormPlaceholders")||o(this).data("edicyFormPlaceholders",new t(this))})}}(jQuery),function(x){var t=x("html").hasClass("editmode");new LazyLoad({threshold:500,elements_selector:".js-lazyload",callback_loaded:function(t){x(t).closest(".js-content-item-box").removeClass("not-loaded with-error").addClass("is-loaded")}});x(".js-cart-btn").click(function(){x(this).data("product-id")&&Voog.ShoppingCart.addProductById(x(this).data("product-id"))});function e(t){function e(){var t=x(".post"),o=[];return t.each(function(t,e){o.push(e.getBoundingClientRect().top)}),o}function o(i){a=a?(c=(c=x(window).scrollTop())-a,window.innerWidth<640&&h&&(5<c&&b<a?x(".topbar").addClass("fixed").css({top:-b}):c<-5&&b<a?x(".topbar").addClass("fixed").css({top:0}):c<0&&a<=100&&!0===x(".topbar").hasClass("fixed")&&(x(p).css({"margin-top":0}),x(".topbar").removeClass("fixed"))),640<window.innerWidth&&u&&(x(".post").eq(0).offset().top-x(window).innerHeight()+90<x(document).scrollTop()&&a+window.innerHeight<=x(document).height()-w-40?c<-5?s(!1):5<c&&(x(m).addClass("footer-fixed footer-animated footer-hidden"),x(m).css("bottom",-x(m).outerHeight())):r()),l&&x(g).find(".header-inner").height()<60&&(5<c&&b<a?(x(g).addClass("header-fixed").css({top:-b}),x(p).css({"padding-top":b})):c<-5&&b<a?(function(){var t;if(x("body").hasClass("edy-checkout-button-visible"))t=x(".edy-ecommerce-shopping-cart-button").outerHeight();else t=0;x(g).addClass("header-fixed header-animated").css({top:t}),x(p).css({"padding-top":b})}(),setTimeout(function(){x(window).scrollTop()<=b&&n()},20)):c<-5&&a<=b&&n()),0):x(window).scrollTop(),640<window.innerWidth&&f&&x(".post").each(function(t,e){var o=x(e).find(".post-header"),n=-(x(e).height()-30-o.height());i[t]<30?i[t]>n?(o.removeClass("top bottom"),x(e).addClass("fixed-header")):(o.addClass("bottom").removeClass("top"),x(e).removeClass("fixed-header")):(o.addClass("top").removeClass("bottom"),x(e).removeClass("fixed-header"))})}function n(){x(g).removeClass("header-fixed header-animated"),x(p).css({"padding-top":0}),x(".post.fixed-header").removeClass("fixed-header")}function r(){x(m).removeClass("footer-fixed footer-animated footer-hidden"),x("body").removeClass("voog-search-visible"),x(m).css({bottom:"",left:""}),x(p).css({"margin-bottom":""})}function s(t){t=t||!1,x(m).addClass("footer-fixed footer-animated"),x(m).css({left:x(".container").offset().left,bottom:t?0:60-x(m).height()}),x(p).css({"margin-bottom":w})}function i(t){t?x(m).hasClass("footer-fixed")&&(clearTimeout(d),s(!0),x("footer .gradient-overlay").hide()):x("footer").hasClass("footer-fixed")&&(d=setTimeout(function(){s(!1),x("footer .gradient-overlay").show()},1500))}var a,c,d,l=t.stickyHeader||!1,h=t.stickyMobileMenu||!1,u=t.stickyFooter||!1,f=t.stickyPostHeaders||!1,p=x(".container"),g=x(".header"),m=x(".footer"),b=x(g).height()+90,w=x(m).height()+90,v=!1,y=function(){v=!1,640<x(window).width()&&o(e())};x(window).on("load resize",function(){640<x(window).width()?o(e()):(x(".container").css({"padding-top":"","margin-bottom":""}),x(".header-fixed").removeClass("header-fixed header-animated").css("top",""))}).on("scroll",function(){window.scrollY,function(){if(!v)requestAnimationFrame(y);v=true}()}),x("footer").bind("mouseenter",function(){i(!0)}).bind("mouseleave",function(){i(!1)})}var o,n,i;window.site=x.extend(window.site||{},{initFrontPage:function(t){(t=void 0!==t&&t)&&e({stickyHeader:!0,stickyMobileMenu:!0,stickyFooter:!1,stickyPostHeaders:!1})},initCommonPage:function(t){(t=void 0!==t&&t)&&e({stickyHeader:!0,stickyMobileMenu:!0,stickyFooter:!1,stickyPostHeaders:!1}),x.fn.autogrow&&x(".form_field_textarea").autogrow(),x(window).ready(function(){x.trim(x(".content-header").get(0).innerHTML)||x(".content-header").hide()})},initBlogPage:function(t){(t=void 0!==t&&t)&&e({stickyHeader:!0,stickyMobileMenu:!0,stickyFooter:!0,stickyPostHeaders:!0}),x(window).ready(function(){x(".post").each(function(t,e){var o=x(e),e=o.find(".post-header").height();o.find(".post-content").css("min-height",e)})})},initArticlePage:function(t){(t=void 0!==t&&t)&&e({stickyHeader:!0,stickyMobileMenu:!0,stickyFooter:!1,stickyPostHeaders:!1}),x.fn.autogrow&&x(".form_field_textarea").autogrow()},bindSiteSearch:function(t,e,o){t&&new VoogSearch(t,{per_page:10,lang:e,resultsContainer:x(".js-voog-search-modal-inner").get(0),sideclick:!0,mobileModeWidth:640,updateOnKeypress:!0,noResults:o})},handleProductPageContent:function(){var n,i,r,s;x(document).ready(function(){t()}),x(window).resize((n=function(){t()},i=25,function(){var t=this,e=arguments,o=r&&!s;clearTimeout(s),s=setTimeout(function(){s=null,r||n.apply(t,e)},i),o&&n.apply(t,e)}));var t=function(){var t=x(".js-product-page-image"),e=x(".js-product-page-image-wrap"),o=x(".js-buy-btn-content");1<=x(".js-buy-btn-content .edy-buy-button-container").length&&(x(window).width()<=752?x(".js-buy-btn-content .js-product-page-image").length<=0&&o.prepend(t):x(".js-product-page-image-wrap .js-product-page-image").length<=0&&e.prepend(t))}}}),x(".content").on("mousedown",function(t){x(t.target).closest(".js-prevent-sideclick").length||x(".js-image-settings-popover").toggleClass("active")}),x(".js-menu-toggle").click(function(){x(this).toggleClass("open"),x(".mobile-menu").toggleClass("expanded"),x(this).hasClass("open")?x(".js-search").addClass("hidden"):x(".js-search").removeClass("hidden")}),x("#lang-menu-toggle").click(function(t){t.stopPropagation(),x(this).toggleClass("open"),x("#toggleable-lang-menu").toggleClass("expanded")}),x("body").on("click",function(t){t=x(t.target);0!==t.closest(".toggleable-lang-menu").length||t.is("#toggleable-lang-menu")||(x("#toggleable-lang-menu").removeClass("expanded"),x("body").removeClass("voog-search-visible")),x("#lang-menu-toggle").removeClass("open")}),x("html").click(function(t){t=x(t.target);0===t.closest(".mobile-menu").length&&0===t.closest(".toggle-btn").length&&x(".mobile-menu").hasClass("expanded")&&(x(".mobile-menu").removeClass("expanded"),x(".js-menu-toggle").removeClass("open"),x(".js-menu-toggle").hasClass("open")||x(".js-search").removeClass("hidden"))}),x(".js-search-reset").click(function(t){t.preventDefault(),x("body").removeClass("voog-search-visible")}),x(".js-search-open").click(function(t){t.stopPropagation(),x("body").addClass("voog-search-visible"),x(".js-search-input").val("").focus()}),x(".js-search-close").click(function(t){x("body").removeClass("voog-search-visible")}),x(".js-search-input").click(function(t){t.stopPropagation()}),x(".js-voog-search-modal-inner").click(function(t){t.stopPropagation()}),t||x.each(x(".content-formatted table"),function(){x(this).wrap('<div class="table-container"></div>')}),x(document).ready(function(){x(".comment-form").hasClass("form_with_errors")?x("html, body").scrollTop(x(".comment-form").offset().top):0<x("form").find(".form_error, .form_notice").length&&x("html, body").scrollTop(x(".form_error, .form_notice").closest("form").offset().top)}),window.addEventListener("scroll",function(t){var e=x(".header_fixed").height();x(".t-sticky").css("top",x(".header_fixed").outerHeight()+32),window.scrollY>e?(x(".header_fixed:not(.relative)").addClass("scroll"),x("body").addClass("scroll")):(x(".header_fixed").removeClass("scroll"),x("body").removeClass("scroll"))}),x(".content form").edicyFormPlaceholders(),!Modernizr.flexbox&&t&&(o=x(".js-header-inner").width(),n=x(".js-header-right"),i=n.width(),n=parseInt(n.css("margin-left"))+1,x(".js-header-left").css("min-width",o-i-n))}(jQuery),function(){for(var r=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var o=(new Date).getTime(),n=Math.max(0,16-(o-r)),i=window.setTimeout(function(){t(o+n)},n);return r=o+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();